# üöÄ Funnel Discounts App - –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞

## üìã –û–≥–ª—è–¥ –ø—Ä–æ–µ–∫—Ç—É

–¶–µ Shopify –¥–æ–¥–∞—Ç–æ–∫ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤–æ—Ä–æ–Ω–æ–∫ –∑–Ω–∏–∂–æ–∫ –∑ –∞–Ω–∞–ª—ñ—Ç–∏–∫–æ—é. –î–æ–¥–∞—Ç–æ–∫ –¥–æ–∑–≤–æ–ª—è—î:

- –°—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –≤–æ—Ä–æ–Ω–∫–∏ –∑–Ω–∏–∂–æ–∫
- –í—ñ–¥—Å—Ç–µ–∂—É–≤–∞—Ç–∏ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –≤–æ—Ä–æ–Ω–æ–∫
- –ó–±–∏—Ä–∞—Ç–∏ –∞–Ω–∞–ª—ñ—Ç–∏–∫—É –ø–æ –∑–∞–∫–∞–∑–∞—Ö —Ç–∞ –∑–Ω–∏–∂–∫–∞—Ö
- –í—ñ–¥–æ–±—Ä–∞–∂–∞—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—ñ

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π —Å—Ç–µ–∫

- **Frontend**: Remix + React + TypeScript
- **Backend**: Node.js + Prisma ORM
- **–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö**: PostgreSQL (Railway)
- **UI**: Shopify Polaris
- **Deployment**: –õ–æ–∫–∞–ª—å–Ω–∞ —Ä–∞–∑—Ä–∞–±–∫–∞
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è**: –ù–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è (Railway PostgreSQL)
- **–¢—É–Ω–Ω–µ–ª—ñ**: Ngrok –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ—ó —Ä–æ–∑—Ä–æ–±–∫–∏

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```bash
npm install
```

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

**–í–∞—Ä—ñ–∞–Ω—Ç A: Railway PostgreSQL (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)**

```bash
# 1. –°—Ç–≤–æ—Ä—ñ—Ç—å PostgreSQL –Ω–∞ Railway
# 2. –°–∫–æ–ø—ñ—é–π—Ç–µ DATABASE_URL –∑ Railway
# 3. –î–æ–¥–∞–π—Ç–µ –≤ .env —Ñ–∞–π–ª
```

**–í–∞—Ä—ñ–∞–Ω—Ç B: –õ–æ–∫–∞–ª—å–Ω–∏–π SQLite (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)**

```bash
# –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ SQLite –∑–∞–º—ñ—Å—Ç—å PostgreSQL
# –í .env –≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å: DATABASE_URL=file:./dev.db
```

### 3. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

```bash
# –°–∫–æ–ø—ñ—é–π—Ç–µ –ø—Ä–∏–∫–ª–∞–¥ —Ñ–∞–π–ª—É
cp env.example .env

# –í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ —Ñ–∞–π–ª –∑ –≤–∞—à–∏–º–∏ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏
nano .env
```

### 4. –ó–∞–ø—É—Å–∫ –¥–æ–¥–∞—Ç–∫—É

```bash
shopify app dev --use-localhost
```

**–ì–æ—Ç–æ–≤–æ!** üéâ –î–æ–¥–∞—Ç–æ–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑ —É—Å—ñ–º–∞ –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏–º–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º–∏.

### –ó–∞–ø—É—Å–∫ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –ø–æ—Ä—Ç—É

```bash
# –ß–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä CLI (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)
shopify app dev --use-localhost --localhost-port=3000

# –ß–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è (–º–æ–∂–µ –Ω–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ Shopify CLI)
PORT=3000 shopify app dev --use-localhost

# –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è npm —Å–∫—Ä–∏–ø—Ç—ñ–≤
npm run dev        # –ø–æ—Ä—Ç 3000
npm run dev:port   # –ø–æ—Ä—Ç 8080
```

### –î–æ–¥–∞—Ç–∫–æ–≤—ñ –∫—Ä–æ–∫–∏ (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)

#### –ó–∞–ø—É—Å–∫ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö (Docker)

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ PostgreSQL –≤ Docker
docker-compose up -d postgres
```

#### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

```bash
# –î–ª—è PostgreSQL (–ø—Ä–æ–¥–∞–∫—à–Ω/—Ä–æ–∑—Ä–æ–±–∫–∞)
npm run db:postgres

# –ó–∞–ø—É—Å–∫ –º—ñ–≥—Ä–∞—Ü—ñ–π
npx prisma migrate dev

# –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è Prisma –∫–ª—ñ—î–Ω—Ç–∞
npx prisma generate
```

## üîß –†–µ–∂–∏–º–∏ —Ä–æ–∑—Ä–æ–±–∫–∏

### 1. Localhost —Ä–æ–∑—Ä–æ–±–∫–∞ (–æ—Å–Ω–æ–≤–Ω–∏–π)

```bash
# –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º (Remix –Ω–∞ –≤–∏–ø–∞–¥–∫–æ–≤–æ–º—É –ø–æ—Ä—Ç—É)
shopify app dev --use-localhost

# –ù–∞—Å—Ç—Ä–æ—ó—Ç–∏ –ø–æ—Ä—Ç –ø—Ä–æ–∫—Å–∏ (–Ω–µ –≤–ø–ª–∏–≤–∞—î –Ω–∞ ngrok)
shopify app dev --use-localhost --localhost-port=3000

# –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è npm —Å–∫—Ä–∏–ø—Ç—ñ–≤
npm run dev        # Remix –Ω–∞ –≤–∏–ø–∞–¥–∫–æ–≤–æ–º—É –ø–æ—Ä—Ç—É
npm run dev:port   # Remix –Ω–∞ –≤–∏–ø–∞–¥–∫–æ–≤–æ–º—É –ø–æ—Ä—Ç—É
```

- –ó–∞–ø—É—Å–∫–∞—î –¥–æ–¥–∞—Ç–æ–∫ –Ω–∞ localhost
- –ü–æ—Ç—Ä–µ–±—É—î —Ä—É—á–Ω–æ–≥–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤–µ–±—Ö—É–∫—ñ–≤
- –ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π —Å–ø–æ—Å—ñ–± –¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏
- **–î–ª—è ngrok –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø–æ—Ä—Ç Remix –∑ –ª–æ–≥—É!**

### 2. –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ —Ä–æ–∑—Ä–æ–±–∫–∞ (–∑ —Ç—É–Ω–Ω–µ–ª–µ–º)

```bash
npm run dev
```

- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –≤–±—É–¥–æ–≤–∞–Ω–∏–π —Ç—É–Ω–Ω–µ–ª—å Shopify
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤—É—î –≤–µ–±—Ö—É–∫–∏
- –î–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π

### 3. Localhost + Ngrok (–¥–ª—è –≤–µ–±—Ö—É–∫—ñ–≤)

```bash
# –¢–µ—Ä–º—ñ–Ω–∞–ª 1: –ó–∞–ø—É—Å–∫ –¥–æ–¥–∞—Ç–∫—É
shopify app dev --use-localhost

# –¢–µ—Ä–º—ñ–Ω–∞–ª 2: –ó–∞–ø—É—Å–∫ ngrok (–∑–∞–º—ñ–Ω—ñ—Ç—å PORT –Ω–∞ —Ä–µ–∞–ª—å–Ω–∏–π –ø–æ—Ä—Ç)
ngrok http PORT
```

## üîó –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤–µ–±—Ö—É–∫—ñ–≤

### –î–ª—è localhost —Ä–æ–∑—Ä–æ–±–∫–∏ (–æ—Å–Ω–æ–≤–Ω–∏–π –≤–∏–ø–∞–¥–æ–∫)

1. **–ó–∞–ø—É—Å—Ç—ñ—Ç—å –¥–æ–¥–∞—Ç–æ–∫**:

   ```bash
   shopify app dev --use-localhost
   ```

2. **–ó–∞–ø—É—Å—Ç—ñ—Ç—å ngrok** (–≤ –æ–∫—Ä–µ–º–æ–º—É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ):

   ```bash
   # –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø–æ—Ä—Ç Remix (–æ–±–æ–≤'—è–∑–∫–æ–≤–æ!)
   # –ó –ª–æ–≥—É: "Local: http://localhost:34595/"
   ngrok http 34595

   # –ü—Ä–æ–∫—Å–∏ –ø–æ—Ä—Ç –ù–ï –ø—Ä–∞—Ü—é—î –∑ ngrok!
   # –ó –ª–æ–≥—É: "Proxy server started on port 3000" - –ù–ï –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ
   ```

3. **–û–Ω–æ–≤—ñ—Ç—å –≤–µ–±—Ö—É–∫ –≤ Shopify Admin**:
   - –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤: `ruslan-dev-store.myshopify.com/admin/settings/notifications`
   - –ó–Ω–∞–π–¥—ñ—Ç—å –≤–µ–±—Ö—É–∫ `orders/paid` —Ç–∞ –æ–Ω–æ–≤—ñ—Ç—å URL –Ω–∞: `YOUR_NGROK_URL/webhooks/orders/paid`

### –î–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ—ó —Ä–æ–∑—Ä–æ–±–∫–∏

```bash
npm run dev
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
app/
‚îú‚îÄ‚îÄ components/          # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ AnalyticsDisplay.tsx
‚îÇ   ‚îú‚îÄ‚îÄ CreateFunnelPage.tsx
‚îÇ   ‚îú‚îÄ‚îÄ DeleteFunnelModal.tsx
‚îÇ   ‚îî‚îÄ‚îÄ FunnelTable.tsx
‚îú‚îÄ‚îÄ lib/                 # –°–µ—Ä–≤–µ—Ä–Ω–∞ –ª–æ–≥—ñ–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ analytics.server.ts
‚îÇ   ‚îî‚îÄ‚îÄ graphql.ts
‚îú‚îÄ‚îÄ routes/              # Remix –º–∞—Ä—à—Ä—É—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ app._index.tsx
‚îÇ   ‚îú‚îÄ‚îÄ app.analytics.tsx
‚îÇ   ‚îú‚îÄ‚îÄ app.create-funnel.tsx
‚îÇ   ‚îú‚îÄ‚îÄ app.edit-funnel.$id.tsx
‚îÇ   ‚îî‚îÄ‚îÄ webhooks.orders.paid.ts
‚îú‚îÄ‚îÄ styles/              # CSS —Å—Ç–∏–ª—ñ
‚îî‚îÄ‚îÄ types.ts            # TypeScript —Ç–∏–ø–∏

extensions/
‚îú‚îÄ‚îÄ discount-function/   # Shopify Function –¥–ª—è –∑–Ω–∏–∂–æ–∫
‚îî‚îÄ‚îÄ theme-extension/     # –¢–µ–º–∞-—Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è

prisma/
‚îú‚îÄ‚îÄ schema.prisma        # –°—Ö–µ–º–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
‚îî‚îÄ‚îÄ migrations/          # –ú—ñ–≥—Ä–∞—Ü—ñ—ó –ë–î
```

## üóÑ –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö

### –û—Å–Ω–æ–≤–Ω—ñ —Ç–∞–±–ª–∏—Ü—ñ:

- `Session` - —Å–µ—Å—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ Shopify
- `OrderAnalytics` - –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞ –∑–∞–∫–∞–∑—ñ–≤ –∑—ñ –∑–Ω–∏–∂–∫–∞–º–∏
- `FunnelPerformance` - –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –≤–æ—Ä–æ–Ω–æ–∫ –∑–Ω–∏–∂–æ–∫
- `ShopAnalytics` - –∑–∞–≥–∞–ª—å–Ω–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞ –º–∞–≥–∞–∑–∏–Ω—É

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—å:

- **OrderAnalytics**: orderId, orderName, shopDomain, customerEmail, discountAmount, totalAmount, lineItemsCount, funnelId, funnelName
- **FunnelPerformance**: funnelId, funnelName, shopDomain, discountsIssued, totalDiscountAmount, ordersAffected, conversionRate
- **ShopAnalytics**: shopDomain, totalDiscountsIssued, totalDiscountAmount, totalOrders, totalSales
- **Session**: shop, accessToken, userId, email, scope (–¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó Shopify)

### –ú—ñ–≥—Ä–∞—Ü—ñ—ó:

```bash
# –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É –º—ñ–≥—Ä–∞—Ü—ñ—é
npx prisma migrate dev --name your_migration_name

# –ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—ó
npx prisma migrate deploy

# –°–∫–∏–Ω—É—Ç–∏ –±–∞–∑—É –¥–∞–Ω–∏—Ö
npx prisma migrate reset
```

## üîÑ –¶–∏–∫–ª —Ä–æ–∑—Ä–æ–±–∫–∏

### 1. –†–æ–∑—Ä–æ–±–∫–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –≤ —Ä–µ–∂–∏–º—ñ —Ä–æ–∑—Ä–æ–±–∫–∏
npm run dev

# –ê–±–æ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤–µ–±—Ö—É–∫—ñ–≤
npm run dev:ngrok
```

### 2. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

- –°—Ç–≤–æ—Ä—ñ—Ç—å —Ç–µ—Å—Ç–æ–≤–∏–π –∑–∞–∫–∞–∑ –≤ dev store
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ä–æ–±–æ—Ç—É –≤–µ–±—Ö—É–∫—ñ–≤
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è
- –ü—Ä–æ—Ç–µ—Å—Ç—É–π—Ç–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

### 3. –î–µ–ø–ª–æ–π

```bash
# –ó–±—ñ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω—É
npm run build

# –î–µ–ø–ª–æ–π –Ω–∞ Railway
npm run deploy
```

## üêõ –ù–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è

### –í–µ–±—Ö—É–∫–∏ –Ω–µ –ø—Ä–∞—Ü—é—é—Ç—å?

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –¥–æ—Å—Ç—É–ø–Ω–∏–π URL –¥–æ–¥–∞—Ç–∫—É
2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–µ–±—Ö—É–∫–∏ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ –≤ Shopify Admin
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ –≤–µ–±—Ö—É–∫—ñ–≤ –≤ Shopify Admin
4. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –¥–æ–¥–∞—Ç–æ–∫ –∑–∞–ø—É—â–µ–Ω–∏–π —Ç–∞ –¥–æ—Å—Ç—É–ø–Ω–∏–π

### –ü—Ä–æ–±–ª–µ–º–∏ –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö?

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –ë–î
2. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –º—ñ–≥—Ä–∞—Ü—ñ—ó: `npx prisma migrate dev`
3. –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä—É–π—Ç–µ –∫–ª—ñ—î–Ω—Ç: `npx prisma generate`

### Ngrok URL –∑–º—ñ–Ω–∏–≤—Å—è?

1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å `npm run dev:ngrok` –∑–Ω–æ–≤—É
2. –û–Ω–æ–≤—ñ—Ç—å URL –≤–µ–±—Ö—É–∫—ñ–≤ –≤ Shopify Admin –∑ –Ω–æ–≤–∏–º ngrok URL

## üìù –û—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–∞–Ω–¥–∏

```bash
# –†–æ–∑—Ä–æ–±–∫–∞
npm run dev                        # Remix –Ω–∞ –≤–∏–ø–∞–¥–∫–æ–≤–æ–º—É –ø–æ—Ä—Ç—É
npm run dev:localhost              # –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
npm run dev:port                   # Remix –Ω–∞ –≤–∏–ø–∞–¥–∫–æ–≤–æ–º—É –ø–æ—Ä—Ç—É
shopify app dev                    # –ó —Ç—É–Ω–Ω–µ–ª–µ–º (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –≤–µ–±—Ö—É–∫–∏)

# –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö
npx prisma studio                  # –í—ñ–¥–∫—Ä–∏—Ç–∏ Prisma Studio
npx prisma migrate dev             # –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—ó

# –ó–±—ñ—Ä–∫–∞
npm run build                      # –ó–±—ñ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç—É
```

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

### –í–∞–∂–ª–∏–≤–æ –ø—Ä–æ NODE_ENV:

- **Development**: `NODE_ENV=development` - –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ—ó —Ä–æ–∑—Ä–æ–±–∫–∏
- **Production**: `NODE_ENV=production` - –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω –¥–µ–ø–ª–æ—é
- –¶–µ –≤–ø–ª–∏–≤–∞—î –Ω–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π (`npm ci --omit=dev`)

### –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –±–∞–∑–∏:

```bash
# –ß–µ—Ä–µ–∑ Prisma Studio
npx prisma studio

# –ü—Ä—è–º–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ Railway PostgreSQL
PGPASSWORD=your_password psql -h switchback.proxy.rlwy.net -U postgres -p 43480 -d railway
```

## üîê –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

### 1. –°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env`

```bash
# –°–∫–æ–ø—ñ—é–π—Ç–µ –ø—Ä–∏–∫–ª–∞–¥ —Ñ–∞–π–ª—É
cp env.example .env

# –í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ —Ñ–∞–π–ª –∑ –≤–∞—à–∏–º–∏ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏
nano .env
```

### 2. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ

```env
# –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö (Docker)
DATABASE_URL="postgresql://postgres:postgres@localhost:5434/funnel_dev"

# Shopify
SHOPIFY_API_KEY="your_api_key"
SHOPIFY_API_SECRET="your_api_secret"
SCOPES="write_products,read_products,write_discounts,read_discounts,write_orders,read_orders,write_themes,read_themes"

# –î–æ–¥–∞—Ç–æ–∫
SHOPIFY_APP_URL="https://your-app.railway.app"

# Environment (–≤–∞–∂–ª–∏–≤–æ –¥–ª—è Docker)
NODE_ENV="development"
```

### 3. –û—Ç—Ä–∏–º–∞–π—Ç–µ –∑–Ω–∞—á–µ–Ω–Ω—è –∑ Shopify Partners

- `SHOPIFY_API_KEY` —Ç–∞ `SHOPIFY_API_SECRET` - –∑ [partners.shopify.com](https://partners.shopify.com)
- `SHOPIFY_APP_URL` - URL –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ—ó —Ä–æ–∑—Ä–æ–±–∫–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `https://localhost:3000`)

## üìö –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏

- [Shopify App Development](https://shopify.dev/docs/apps)
- [Remix Documentation](https://remix.run/docs)
- [Prisma Documentation](https://www.prisma.io/docs)
- [Shopify Polaris](https://polaris.shopify.com/)

## ü§ù –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–ü—Ä–∏ –≤–∏–Ω–∏–∫–Ω–µ–Ω–Ω—ñ –ø—Ä–æ–±–ª–µ–º:

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –≤ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ
2. –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ —Ü—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤–µ–±—Ö—É–∫—ñ–≤ –≤ Shopify Admin
4. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤—Å—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ

---

**–ü—Ä–∏–º—ñ—Ç–∫–∞**: –¶–µ–π –¥–æ–¥–∞—Ç–æ–∫ —Ä–æ–∑—Ä–æ–±–ª–µ–Ω–∏–π –¥–ª—è Shopify Partners —Ç–∞ –ø–æ—Ç—Ä–µ–±—É—î –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤ Shopify Partners Dashboard.
